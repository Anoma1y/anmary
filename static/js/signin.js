"use strict";var input_email=document.getElementById("email"),input_password=document.getElementById("password"),button=document.getElementById("login"),error=document.getElementById("error"),checkEmail=!1,checkPassword=!1;function handlerCheck(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r?(e.style.borderColor="green",errorText(n)):(e.style.borderColor="red",errorText(n))}function errorText(e){error.innerText=e}input_password.addEventListener("change",function(e){var r=e.target;r.value.length>=3&&r.value.length<=50?(checkPassword=!0,handlerCheck(r,!0)):(checkPassword=!1,handlerCheck(r,!1,"Пароль должен содержать от 3 до 50 символов"))}),input_email.addEventListener("change",function(e){var r=e.target;""!=r.value&&(r.value.match(/^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i)?(checkEmail=!0,handlerCheck(r,!0)):(checkEmail=!1,handlerCheck(r,!1,"Неверный E-Mail")))}),button.addEventListener("click",function(e){e.preventDefault(),!0===checkPassword&&!0===checkEmail?$.ajax({url:"login_action",type:"POST",data:{email:input_email.value,password:input_password.value}}).done(function(e){var r=JSON.parse(e);!0===r?window.location="/":error.innerText=r}).fail(function(){console.log("error")}):checkEmail&&checkPassword||(error.innerText="Введите логин и пароль")});