"use strict";var checkEmail=!1,checkName=!1,checkText=!1;$("#form-email").on("blur",function(e){if(""!=$(this).val()){/^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i.test($(this).val())?($(this).css({border:"1px solid #569b44"}),checkEmail=!0,$("#error").css("opacity",0)):($(this).css({border:"1px solid #ff0000"}),checkEmail=!1,$("#error").css("opacity",1),$("#error").text("Укажите правильный адрес E-mail"))}else $(this).css({border:"1px solid #ff0000"}),checkEmail=!1,$("#error").css("opacity",1),$("#error").text("Укажите почту")}),$("#form-name").on("blur",function(e){""!=$(this).val()?($(this).css({border:"1px solid #569b44"}),checkName=!0,$("#error").css("opacity",0)):($(this).css({border:"1px solid #ff0000"}),checkName=!1,$("#error").css("opacity",1),$("#error").text("Укажите имя"))}),$("#form-text").on("blur",function(e){$(this).val().length>=20?($(this).css({border:"1px solid #569b44"}),checkText=!0,$("#error").css("opacity",0)):($(this).css({border:"1px solid #ff0000"}),checkText=!1,$("#error").css("opacity",1),$("#error").text("Сообщение должно быть больше 20 символов"))}),$("#form-name, #form-email").on("keypress",function(e){13!=(e=e||window.event).keyCode&&13!=e.which||(e.preventDefault()?e.preventDefault():e.returnValue=!1)}),$("#sendEmailBtn").on("click",function(e){e.preventDefault();$("#sendEmailForm").serializeArray();var r=$("#form-name").val(),s=$("#form-email").val(),o=$("#form-text").val();!0===checkEmail&&!0===checkName&&!0===checkText?$.ajax({url:"contacts/sendEmail",type:"POST",data:{name:r,email:s,text:o}}).done(function(){$("#sendEmailBtn").fadeOut("400"),setTimeout(function(){$("#sendEmailBtn").after('<h2 class="sendOk">Отправлено</h2>')},250)}).fail(function(){$("#error").css("opacity",1),$("#error").text("Ошибка при отправке"),$("#sendEmailBtn").val("Отправить")}).always(function(){$("#sendEmailBtn").val("Отправка")}):(checkEmail?$("#form-email").css({border:"1px solid #569b44"}):$("#form-email").css({border:"1px solid #ff0000"}),checkName?$("#form-name").css({border:"1px solid #569b44"}):$("#form-name").css({border:"1px solid #ff0000"}),checkText?$("#form-text").css({border:"1px solid #569b44"}):$("#form-text").css({border:"1px solid #ff0000"}),$("#error").css("opacity",1),$("#error").text("Заполните все поля"))});